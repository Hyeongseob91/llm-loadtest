---
name: clarify
description: 모호한 요구사항을 명확화하는 대화형 워크플로우. "clarify", "요구사항 정리", "뭘 원하는지 정리해줘", "기능 명세화" 등에 반응. AskUserQuestion 도구로 3단계 객관식 질문을 통해 모호함을 제거하고 명확한 명세로 변환.
---

# Clarify: 요구사항 명확화 Skill

## 목적
모호한 요구사항을 체계적인 질문을 통해 구체적인 명세로 변환합니다.

## 핵심 원칙
> "3분 투자로 재작업 시간을 대폭 절감"

사용자가 원하는 것을 정확히 파악하는 것이 가장 중요합니다.

## 동작 워크플로우

### Step 1: 원본 요구사항 캡처
사용자가 말한 원본 요구사항을 **그대로** 기록합니다.

```
[원본 요청]
"로그인 기능 만들어줘"
```

### Step 2: 모호점 분석
원본 요청에서 명확하지 않은 부분을 3-5개 식별합니다.

분석할 관점:
- **기술적 선택**: 인증 방식, 프레임워크, 라이브러리
- **비즈니스 요구**: 세션 유지 시간, 보안 수준, 사용자 경험
- **인터페이스**: UI 위치, 에러 처리, 리다이렉트 동작
- **범위**: 포함/제외 기능, 연동 시스템

### Step 3: AskUserQuestion으로 순차 질문 (핵심)

**반드시 AskUserQuestion 도구를 사용하여** 객관식 질문을 던집니다.

질문 규칙:
1. **한 번에 1-2개 질문만** (점진적 구체화)
2. **이전 답변을 반영**하여 다음 질문 구성
3. **최대 3라운드**까지 진행
4. 각 질문에 **명확한 선택지 제공** (2-4개)

예시 흐름:
```
Round 1: "인증 방식은요?" → OAuth 선택
Round 2: "어떤 OAuth 제공자를 쓸까요?" → Google + GitHub 선택
Round 3: "미인증 사용자 처리는?" → /login 리다이렉트 선택
```

### Step 4: Before/After 비교 출력

질문이 완료되면 명확해진 요구사항을 비교 형식으로 보여줍니다.

```markdown
## Before (원본 요청)
"로그인 기능 만들어줘"

## After (명확화된 명세)
- **인증 방식**: Google OAuth + GitHub OAuth
- **세션 유지**: 24시간 (localStorage)
- **로그아웃**: 헤더 우측 상단 버튼
- **미인증 처리**: /login 페이지로 리다이렉트
- **에러 처리**: Toast 알림으로 표시
```

### Step 5: 저장 옵션 제안

AskUserQuestion으로 저장 여부를 묻습니다:
- 파일로 저장 (`.claude/specs/[feature-name].md`)
- 저장 없이 진행

## 질문 템플릿 참조

상세한 질문 카테고리와 예시는 [reference/question-templates.md](reference/question-templates.md) 참조

## 사용 예시

### 트리거 방법
```
clarify
요구사항 정리해줘
뭘 원하는지 모르겠어 정리해줘
이 기능 명세화해줘
```

### 대화 예시

**사용자**: 알림 기능 만들어줘 clarify

**Claude**:
[원본 요청 캡처]
"알림 기능 만들어줘"

몇 가지 모호한 부분이 있습니다. 명확화를 위해 질문드리겠습니다.

[AskUserQuestion 호출]
- 질문 1: "어떤 알림 방식이 필요하신가요?"
  - 이메일 알림
  - 푸시 알림 (브라우저)
  - 인앱 알림 (토스트/벨)
  - 복수 선택

... (3라운드 진행) ...

**Claude**:
## Before
"알림 기능 만들어줘"

## After
- **알림 방식**: 인앱 토스트 + 브라우저 푸시
- **알림 종류**: 새 메시지, 멘션, 시스템 공지
- **설정**: 사용자별 알림 on/off 가능
- **저장**: 읽지 않은 알림 7일 보관

## 주의사항

1. **질문 과부하 금지**: 한 번에 모든 것을 묻지 않음
2. **맥락 유지**: 이전 답변이 다음 질문에 영향
3. **합리적 기본값 제안**: 선택지에 (Recommended) 표시
4. **탈출 경로 제공**: "잘 모르겠어요" 옵션 항상 포함
